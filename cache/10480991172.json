{
  "bench_run": {
    "id": "10480991172",
    "html_url": "https://github.com/enso-org/enso/actions/runs/10480991172",
    "run_attempt": 1,
    "event": "schedule",
    "display_title": "Benchmark Engine",
    "head_commit": {
      "id": "22263e8ff974e6ad5cf0a914c6b7c4197678ec66",
      "message": "Y-docs: Fix write capability recovery (#10851)\n\nWhen receiving no write capability in `text/openFile` response, the method returned error without synchronizing, but session state stayed at 'Opening' - this resulted in automatic success on the next retry without actually trying.\n\nAdded additional state to handle recovery from missing write capability errors.\n\n# Important Notes\ntested by applying the patch below (which simulates problem reported by James):\n\n```diff\ndiff --git a/app/ydoc-shared/src/languageServer.ts b/app/ydoc-shared/src/languageServer.ts\nindex e1403f50420247575b437df8c603e5f1701b5e1d..753bbf9f9f449f6130c79040e44607ce0c308f7f 100644\n--- a/app/ydoc-shared/src/languageServer.ts\n+++ b/app/ydoc-shared/src/languageServer.ts\n@@ -3,6 +3,7 @@ import { bytesToHex } from '@noble/hashes/utils'\nimport { Client, RequestManager } from '@open-rpc/client-js'\nimport debug from 'debug'\nimport { ObservableV2 } from 'lib0/observable'\n+import { wait } from 'lib0/promise.js'\nimport { uuidv4 } from 'lib0/random'\nimport { z } from 'zod'\nimport { walkFs } from './languageServer/files'\n@@ -268,9 +269,25 @@ export class LanguageServer extends ObservableV2<Notifications & TransportEvents\nreturn this.request('session/initProtocolConnection', { clientId }, false)\n}\n\n+  private openCalls = 0\n/** [Documentation](https://github.com/enso-org/enso/blob/develop/docs/language-server/protocol-language-server.md#textopenfile) */\nopenTextFile(path: Path): Promise<LsRpcResult<response.OpenTextFile>> {\n-    return this.request<response.OpenTextFile>('text/openFile', { path })\n+    if (this.openCalls === 0) {\n+      this.openCalls = 1\n+      return wait(1000).then(() =>\n+        Err(new LsRpcError('Simluated timeout', 'text/openFile', { path })),\n+      )\n+    } else if (this.openCalls === 1) {\n+      this.openCalls = 2\n+      return this.request<response.OpenTextFile>('text/openFile', { path }).then(value => {\n+        if (value.ok) {\n+          value.value.writeCapability = null\n+        }\n+        return value\n+      })\n+    } else {\n+      return this.request<response.OpenTextFile>('text/openFile', { path })\n+    }\n}\n\n/** [Documentation](https://github.com/enso-org/enso/blob/develop/docs/language-server/protocol-language-server.md#textclosefile) */\n```",
      "timestamp": "2024-08-20T14:42:25Z",
      "author": {
        "name": "Adam Obuchowicz"
      }
    }
  },
  "label_score_dict": {
    "org.enso.compiler.benchmarks.exportimport.ExportImportResolutionBenchmark.importsAndExportsResolution": 2.015692991540513,
    "org.enso.compiler.benchmarks.exportimport.ExportImportResolutionBenchmark.importsResolution": 0.24146848790099748,
    "org.enso.compiler.benchmarks.inline.InlineCompilerBenchmark.longExpression": 1.7458850827630916,
    "org.enso.compiler.benchmarks.inline.InlineCompilerErrorBenchmark.expressionWithErrors": 1.862744688840422,
    "org.enso.compiler.benchmarks.module.ImportStandardLibrariesBenchmark.importStandardLibraries": 90.39290391779281,
    "org.enso.compiler.benchmarks.module.ManyErrorsBenchmark.manyErrors": 59.406690732086666,
    "org.enso.compiler.benchmarks.module.ManyLocalVarsBenchmark.longMethodWithLotOfLocalVars": 31.124039442221875,
    "org.enso.compiler.benchmarks.module.ManyNestedBlocksBenchmark.manyNestedBlocks": 59.303568541228685,
    "org.enso.compiler.benchmarks.module.ManySmallMethodsBenchmark.manySmallMethods": 82.5032478253116,
    "org.enso.interpreter.bench.benchmarks.semantic.ArrayProxyBenchmarks.sumOverComputingProxy": 0.1226595250980836,
    "org.enso.interpreter.bench.benchmarks.semantic.ArrayProxyBenchmarks.sumOverDelegatingProxy": 0.19616131505138903,
    "org.enso.interpreter.bench.benchmarks.semantic.ArrayProxyBenchmarks.sumOverVector": 0.0826621300816129,
    "org.enso.interpreter.bench.benchmarks.semantic.ArrayProxyBenchmarks.sumOverVectorBackedByComputingProxy": 0.1225822337222098,
    "org.enso.interpreter.bench.benchmarks.semantic.ArrayProxyBenchmarks.sumOverVectorBackedByDelegatingProxy": 0.19567634430111505,
    "org.enso.interpreter.bench.benchmarks.semantic.AtomBenchmarks.benchGenerateList": 3.7417116228627365,
    "org.enso.interpreter.bench.benchmarks.semantic.AtomBenchmarks.benchGenerateListAutoscoping": 9.286211370714021,
    "org.enso.interpreter.bench.benchmarks.semantic.AtomBenchmarks.benchGenerateListQualified": 3.7913787305674056,
    "org.enso.interpreter.bench.benchmarks.semantic.AtomBenchmarks.benchMapReverseList": 7.203107868254406,
    "org.enso.interpreter.bench.benchmarks.semantic.AtomBenchmarks.benchMapReverseListCurry": 7.160975672405948,
    "org.enso.interpreter.bench.benchmarks.semantic.AtomBenchmarks.benchReverseList": 5.618513724232488,
    "org.enso.interpreter.bench.benchmarks.semantic.AtomBenchmarks.benchReverseListMethods": 6.934872431629178,
    "org.enso.interpreter.bench.benchmarks.semantic.AtomBenchmarks.benchSumList": 3.623765849952428,
    "org.enso.interpreter.bench.benchmarks.semantic.AtomBenchmarks.benchSumListFallback": 3.6907984668336304,
    "org.enso.interpreter.bench.benchmarks.semantic.AtomBenchmarks.benchSumListLeftFold": 3.72130353713453,
    "org.enso.interpreter.bench.benchmarks.semantic.AtomBenchmarks.benchSumListMethods": 5.164188745606351,
    "org.enso.interpreter.bench.benchmarks.semantic.CallableBenchmarks.benchSumTCOfromCall": 97.8378561788121,
    "org.enso.interpreter.bench.benchmarks.semantic.CallableBenchmarks.benchSumTCOmethodCall": 97.90728808737865,
    "org.enso.interpreter.bench.benchmarks.semantic.CallableBenchmarks.benchSumTCOmethodCallWithDefaultedArguments": 98.15221766209785,
    "org.enso.interpreter.bench.benchmarks.semantic.CallableBenchmarks.benchSumTCOmethodCallWithNamedArguments": 97.57890216893205,
    "org.enso.interpreter.bench.benchmarks.semantic.EqualsBenchmarks.equalsPrimitives": 0.14439844481966688,
    "org.enso.interpreter.bench.benchmarks.semantic.EqualsBenchmarks.equalsStrings": 0.07961174831489075,
    "org.enso.interpreter.bench.benchmarks.semantic.EqualsBenchmarks.equalsTrees": 1.1296209380270146,
    "org.enso.interpreter.bench.benchmarks.semantic.EqualsBenchmarks.equalsWithConversion": 3.6576898880669257,
    "org.enso.interpreter.bench.benchmarks.semantic.IfVsCaseBenchmarks.caseBench3": 0.5751101945512067,
    "org.enso.interpreter.bench.benchmarks.semantic.IfVsCaseBenchmarks.caseBench6": 0.7460461673447781,
    "org.enso.interpreter.bench.benchmarks.semantic.IfVsCaseBenchmarks.ifBench3": 0.6147041594913192,
    "org.enso.interpreter.bench.benchmarks.semantic.IfVsCaseBenchmarks.ifBench6": 0.9820803522124311,
    "org.enso.interpreter.bench.benchmarks.semantic.IfVsCaseBenchmarks.ifBench6In": 2.3463199042684275,
    "org.enso.interpreter.bench.benchmarks.semantic.ListBenchmarks.mapAnyOverList": 87.3254446936921,
    "org.enso.interpreter.bench.benchmarks.semantic.ListBenchmarks.mapConvOverList": 89.48528206249999,
    "org.enso.interpreter.bench.benchmarks.semantic.ListBenchmarks.mapIntegerOverList": 85.44212325800378,
    "org.enso.interpreter.bench.benchmarks.semantic.ListBenchmarks.mapMultiOverList": 86.79296866103448,
    "org.enso.interpreter.bench.benchmarks.semantic.ListBenchmarks.mapOverLazyList": 108.98330633731123,
    "org.enso.interpreter.bench.benchmarks.semantic.ListBenchmarks.mapOverList": 89.47664247558471,
    "org.enso.interpreter.bench.benchmarks.semantic.ListBenchmarks.mapVConvertThatArgumentOfPlus": 53.72045278671726,
    "org.enso.interpreter.bench.benchmarks.semantic.ListBenchmarks.mapVOverList": 85.63034112136752,
    "org.enso.interpreter.bench.benchmarks.semantic.NamedDefaultedArgumentBenchmarks.benchSumTCOWithDefaultArgs": 97.78127221652389,
    "org.enso.interpreter.bench.benchmarks.semantic.NamedDefaultedArgumentBenchmarks.benchSumTCOWithNamedArgs": 97.99998004525034,
    "org.enso.interpreter.bench.benchmarks.semantic.NestedPatternCompilationBenchmarks.sumList": 0.09652413167551209,
    "org.enso.interpreter.bench.benchmarks.semantic.RecursionBenchmarks.benchNestedThunkSum": 85.74758084444446,
    "org.enso.interpreter.bench.benchmarks.semantic.RecursionBenchmarks.benchOversaturatedRecursiveCall": 98.07955225924233,
    "org.enso.interpreter.bench.benchmarks.semantic.RecursionBenchmarks.benchSumRecursive": 0.0009673484576949009,
    "org.enso.interpreter.bench.benchmarks.semantic.RecursionBenchmarks.benchSumStateTCO": 85.8849054871795,
    "org.enso.interpreter.bench.benchmarks.semantic.RecursionBenchmarks.benchSumTCO": 98.02475969377498,
    "org.enso.interpreter.bench.benchmarks.semantic.RecursionBenchmarks.benchSumTCOFoldLike": 97.97238168735961,
    "org.enso.interpreter.bench.benchmarks.semantic.RecursionBenchmarks.benchSumTCOWithEval": 98.03985077679422,
    "org.enso.interpreter.bench.benchmarks.semantic.StringBenchmarks.lengthOfStrings": 0.002025860955316562,
    "org.enso.interpreter.bench.benchmarks.semantic.TypePatternBenchmarks.matchOverAny": 0.0004049384474202124,
    "org.enso.interpreter.bench.benchmarks.semantic.TypePatternBenchmarks.matchOverDecimal": 0.00047111215660396443,
    "org.enso.interpreter.bench.benchmarks.semantic.VectorBenchmarks.averageAbstractList": 0.09636671269436224,
    "org.enso.interpreter.bench.benchmarks.semantic.VectorBenchmarks.averageOverArray": 0.001352277715288317,
    "org.enso.interpreter.bench.benchmarks.semantic.VectorBenchmarks.averageOverArrayProxy": 0.002275134685826641,
    "org.enso.interpreter.bench.benchmarks.semantic.VectorBenchmarks.averageOverArrayProxyNew": 0.002269018784433833,
    "org.enso.interpreter.bench.benchmarks.semantic.VectorBenchmarks.averageOverPolyglotArray": 0.001375706301840698,
    "org.enso.interpreter.bench.benchmarks.semantic.VectorBenchmarks.averageOverPolyglotVector": 0.0013827464885180522,
    "org.enso.interpreter.bench.benchmarks.semantic.VectorBenchmarks.averageOverSlice": 0.0015312649024904778,
    "org.enso.interpreter.bench.benchmarks.semantic.VectorBenchmarks.averageOverVector": 0.0013480461485234387,
    "org.enso.interpreter.bench.benchmarks.semantic.WarningBenchmarks.diffWarningRandomElementsVecSum": 28.54923711342211,
    "org.enso.interpreter.bench.benchmarks.semantic.WarningBenchmarks.noWarningsVecSum": 0.008265187336005363,
    "org.enso.interpreter.bench.benchmarks.semantic.WarningBenchmarks.randomElementsVecSum": 0.058817120798691974,
    "org.enso.interpreter.bench.benchmarks.semantic.WarningBenchmarks.sameWarningVecSum": 2.4976490548237367
  }
}